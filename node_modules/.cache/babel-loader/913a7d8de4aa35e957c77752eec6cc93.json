{"ast":null,"code":"/*! Shifty 2.13.0 - https://github.com/jeremyckahn/shifty */\n!function (t, n) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = n() : \"function\" == typeof define && define.amd ? define(\"shifty\", [], n) : \"object\" == typeof exports ? exports.shifty = n() : t.shifty = n();\n}(window, function () {\n  return function (t) {\n    var n = {};\n\n    function e(r) {\n      if (n[r]) return n[r].exports;\n      var i = n[r] = {\n        i: r,\n        l: !1,\n        exports: {}\n      };\n      return t[r].call(i.exports, i, i.exports, e), i.l = !0, i.exports;\n    }\n\n    return e.m = t, e.c = n, e.d = function (t, n, r) {\n      e.o(t, n) || Object.defineProperty(t, n, {\n        enumerable: !0,\n        get: r\n      });\n    }, e.r = function (t) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      });\n    }, e.t = function (t, n) {\n      if (1 & n && (t = e(t)), 8 & n) return t;\n      if (4 & n && \"object\" == typeof t && t && t.__esModule) return t;\n      var r = Object.create(null);\n      if (e.r(r), Object.defineProperty(r, \"default\", {\n        enumerable: !0,\n        value: t\n      }), 2 & n && \"string\" != typeof t) for (var i in t) e.d(r, i, function (n) {\n        return t[n];\n      }.bind(null, i));\n      return r;\n    }, e.n = function (t) {\n      var n = t && t.__esModule ? function () {\n        return t.default;\n      } : function () {\n        return t;\n      };\n      return e.d(n, \"a\", n), n;\n    }, e.o = function (t, n) {\n      return Object.prototype.hasOwnProperty.call(t, n);\n    }, e.p = \"\", e(e.s = 4);\n  }([function (t, n, e) {\n    \"use strict\";\n\n    (function (t) {\n      e.d(n, \"e\", function () {\n        return E;\n      }), e.d(n, \"c\", function () {\n        return I;\n      }), e.d(n, \"b\", function () {\n        return q;\n      }), e.d(n, \"a\", function () {\n        return Q;\n      }), e.d(n, \"d\", function () {\n        return N;\n      });\n      var r = e(1),\n          i = e.n(r),\n          u = e(2);\n\n      function o(t, n) {\n        if (!(t instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n      }\n\n      function a(t, n) {\n        for (var e = 0; e < n.length; e++) {\n          var r = n[e];\n          r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(t, r.key, r);\n        }\n      }\n\n      function c(t, n, e) {\n        return n in t ? Object.defineProperty(t, n, {\n          value: e,\n          enumerable: !0,\n          configurable: !0,\n          writable: !0\n        }) : t[n] = e, t;\n      }\n\n      function s(t) {\n        return (s = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (t) {\n          return typeof t;\n        } : function (t) {\n          return t && \"function\" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? \"symbol\" : typeof t;\n        })(t);\n      }\n\n      var f,\n          l,\n          h,\n          p,\n          d,\n          _,\n          v,\n          y,\n          g,\n          m,\n          b,\n          w,\n          S,\n          O,\n          j,\n          k = \"undefined\" != typeof window ? window : t,\n          M = k.requestAnimationFrame || k.webkitRequestAnimationFrame || k.oRequestAnimationFrame || k.msRequestAnimationFrame || k.mozCancelRequestAnimationFrame && k.mozRequestAnimationFrame || setTimeout,\n          P = function () {},\n          T = null,\n          x = null,\n          A = i()({}, u),\n          E = function (t, n, e, r, i, u, o) {\n        for (l in f = t < u ? 0 : (t - u) / i, n) h = o[l], p = h.call ? h : A[h], d = e[l], n[l] = d + (r[l] - d) * p(f);\n\n        return n;\n      },\n          F = function (t, n) {\n        _ = t._duration, v = t._timestamp, b = t._currentState, w = t._targetState, S = t._delay, m = _ - ((y = v + S + _) - (g = n > y ? y : n)), g >= y ? (t._render(w, t._data, m), t.stop(!0)) : (t._applyFilter(\"beforeTween\"), g < v + S ? v = _ = g = 1 : v += S, E(g, b, t._originalState, w, _, v, t._easing), t._applyFilter(\"afterTween\"), t._render(b, t._data, m));\n      },\n          I = function (t, n, e) {\n        return function () {\n          for (t = Q.now(), n = T; n;) e = n._next, F(n, t), n = e;\n        }();\n      },\n          C = function t() {\n        T && (M.call(k, t, 1e3 / 60), I());\n      },\n          q = function (t) {\n        var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : \"linear\",\n            e = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},\n            r = s(n);\n        if (\"string\" === r || \"function\" === r) for (var i in t) e[i] = n;else for (var u in t) e[u] = n[u] || \"linear\";\n        return e;\n      },\n          D = function (t) {\n        t === T ? (T = t._next) ? T._previous = null : x = null : t === x ? (x = t._previous) ? x._next = null : T = null : (O = t._previous, j = t._next, O._next = j, j._previous = O), t._previous = t._next = null;\n      },\n          Q = function () {\n        function t() {\n          var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\n              e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : void 0;\n          o(this, t), c(this, \"_config\", {}), c(this, \"_data\", {}), c(this, \"_filters\", []), c(this, \"_next\", null), c(this, \"_previous\", null), c(this, \"_timestamp\", null), c(this, \"_resolve\", null), c(this, \"_reject\", null), c(this, \"_currentState\", {}), c(this, \"_originalState\", {}), c(this, \"_targetState\", {}), c(this, \"_start\", P), c(this, \"_render\", P), this._currentState = n || this._currentState, e && this.setConfig(e);\n        }\n\n        var n, e, r;\n        return n = t, (e = [{\n          key: \"_applyFilter\",\n          value: function (t) {\n            for (var n = this._filters.length; n > 0; n--) {\n              var e = this._filters[n - n][t];\n              e && e(this);\n            }\n          }\n        }, {\n          key: \"tween\",\n          value: function () {\n            var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : void 0;\n            return this._isPlaying && this.stop(), !n && this._config || this.setConfig(n), this._pausedAtTime = null, this._timestamp = t.now(), this._start(this.get(), this._data), this._resume(this._timestamp);\n          }\n        }, {\n          key: \"setConfig\",\n          value: function () {\n            var n = this,\n                e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n            i()(this._config, e);\n            var r = this._config,\n                u = r.promise,\n                o = void 0 === u ? Promise : u,\n                a = r.start,\n                c = void 0 === a ? P : a,\n                s = r.render,\n                f = void 0 === s ? this._config.step || P : s,\n                l = r.step,\n                h = void 0 === l ? P : l;\n\n            for (var p in this._data = this._config.data || this._config.attachment || this._data, this._isPlaying = !1, this._pausedAtTime = null, this._scheduleId = null, this._delay = e.delay || 0, this._start = c, this._render = f || h, this._duration = this._config.duration || 500, i()(this._currentState, e.from), i()(this._originalState, this._currentState), i()(this._targetState, this._currentState, e.to), this._easing = q(this._currentState, this._config.easing, this._easing), this._filters.length = 0, t.filters) t.filters[p].doesApply(this) && this._filters.push(t.filters[p]);\n\n            return this._applyFilter(\"tweenCreated\"), this._promise = new o(function (t, e) {\n              n._resolve = t, n._reject = e;\n            }), this;\n          }\n        }, {\n          key: \"get\",\n          value: function () {\n            return i()({}, this._currentState);\n          }\n        }, {\n          key: \"set\",\n          value: function (t) {\n            this._currentState = t;\n          }\n        }, {\n          key: \"pause\",\n          value: function () {\n            if (this._isPlaying) return this._pausedAtTime = t.now(), this._isPlaying = !1, D(this), this;\n          }\n        }, {\n          key: \"resume\",\n          value: function () {\n            return this._resume();\n          }\n        }, {\n          key: \"_resume\",\n          value: function () {\n            var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : t.now();\n            return null === this._timestamp ? this.tween() : (this._isPlaying || (this._pausedAtTime && (this._timestamp += n - this._pausedAtTime, this._pausedAtTime = null), this._isPlaying = !0, null === T ? (T = this, x = this, C()) : (this._previous = x, x._next = this, x = this)), this._promise);\n          }\n        }, {\n          key: \"seek\",\n          value: function (n) {\n            n = Math.max(n, 0);\n            var e = t.now();\n            return this._timestamp + n === 0 || (this._timestamp = e - n, this._isPlaying || F(this, e)), this;\n          }\n        }, {\n          key: \"stop\",\n          value: function () {\n            var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];\n            return this._isPlaying ? (this._isPlaying = !1, D(this), t && (this._applyFilter(\"beforeTween\"), E(1, this._currentState, this._originalState, this._targetState, 1, 0, this._easing), this._applyFilter(\"afterTween\"), this._applyFilter(\"afterTweenEnd\")), this._resolve && this._resolve({\n              data: this._data,\n              state: this._currentState,\n              tweenable: this\n            }), this._resolve = null, this._reject = null, i()(this._targetState, this._currentState), i()(this._originalState, this._targetState), this) : this;\n          }\n        }, {\n          key: \"cancel\",\n          value: function () {\n            var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],\n                n = this._currentState,\n                e = this._data,\n                r = this._isPlaying;\n            return r ? (this._reject({\n              data: e,\n              state: n,\n              tweenable: this\n            }), this._resolve = null, this._reject = null, this.stop(t)) : this;\n          }\n        }, {\n          key: \"isPlaying\",\n          value: function () {\n            return this._isPlaying;\n          }\n        }, {\n          key: \"setScheduleFunction\",\n          value: function (n) {\n            t.setScheduleFunction(n);\n          }\n        }, {\n          key: \"data\",\n          value: function () {\n            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;\n            return t && (this._data = i()({}, t)), this._data;\n          }\n        }, {\n          key: \"dispose\",\n          value: function () {\n            for (var t in this) delete this[t];\n          }\n        }]) && a(n.prototype, e), r && a(n, r), t;\n      }();\n\n      function N() {\n        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\n            n = new Q(),\n            e = n.tween(t);\n        return e.tweenable = n, e;\n      }\n\n      Q.setScheduleFunction = function (t) {\n        return M = t;\n      }, Q.formulas = A, Q.filters = {}, Q.now = Date.now || function () {\n        return +new Date();\n      };\n    }).call(this, e(3));\n  }, function (t, n, e) {\n    \"use strict\";\n    /*\n    object-assign\n    (c) Sindre Sorhus\n    @license MIT\n    */\n\n    var r = Object.getOwnPropertySymbols,\n        i = Object.prototype.hasOwnProperty,\n        u = Object.prototype.propertyIsEnumerable;\n\n    function o(t) {\n      if (null == t) throw new TypeError(\"Object.assign cannot be called with null or undefined\");\n      return Object(t);\n    }\n\n    t.exports = function () {\n      try {\n        if (!Object.assign) return !1;\n        var t = new String(\"abc\");\n        if (t[5] = \"de\", \"5\" === Object.getOwnPropertyNames(t)[0]) return !1;\n\n        for (var n = {}, e = 0; e < 10; e++) n[\"_\" + String.fromCharCode(e)] = e;\n\n        if (\"0123456789\" !== Object.getOwnPropertyNames(n).map(function (t) {\n          return n[t];\n        }).join(\"\")) return !1;\n        var r = {};\n        return \"abcdefghijklmnopqrst\".split(\"\").forEach(function (t) {\n          r[t] = t;\n        }), \"abcdefghijklmnopqrst\" === Object.keys(Object.assign({}, r)).join(\"\");\n      } catch (t) {\n        return !1;\n      }\n    }() ? Object.assign : function (t, n) {\n      for (var e, a, c = o(t), s = 1; s < arguments.length; s++) {\n        for (var f in e = Object(arguments[s])) i.call(e, f) && (c[f] = e[f]);\n\n        if (r) {\n          a = r(e);\n\n          for (var l = 0; l < a.length; l++) u.call(e, a[l]) && (c[a[l]] = e[a[l]]);\n        }\n      }\n\n      return c;\n    };\n  }, function (t, n, e) {\n    \"use strict\";\n\n    e.r(n), e.d(n, \"linear\", function () {\n      return r;\n    }), e.d(n, \"easeInQuad\", function () {\n      return i;\n    }), e.d(n, \"easeOutQuad\", function () {\n      return u;\n    }), e.d(n, \"easeInOutQuad\", function () {\n      return o;\n    }), e.d(n, \"easeInCubic\", function () {\n      return a;\n    }), e.d(n, \"easeOutCubic\", function () {\n      return c;\n    }), e.d(n, \"easeInOutCubic\", function () {\n      return s;\n    }), e.d(n, \"easeInQuart\", function () {\n      return f;\n    }), e.d(n, \"easeOutQuart\", function () {\n      return l;\n    }), e.d(n, \"easeInOutQuart\", function () {\n      return h;\n    }), e.d(n, \"easeInQuint\", function () {\n      return p;\n    }), e.d(n, \"easeOutQuint\", function () {\n      return d;\n    }), e.d(n, \"easeInOutQuint\", function () {\n      return _;\n    }), e.d(n, \"easeInSine\", function () {\n      return v;\n    }), e.d(n, \"easeOutSine\", function () {\n      return y;\n    }), e.d(n, \"easeInOutSine\", function () {\n      return g;\n    }), e.d(n, \"easeInExpo\", function () {\n      return m;\n    }), e.d(n, \"easeOutExpo\", function () {\n      return b;\n    }), e.d(n, \"easeInOutExpo\", function () {\n      return w;\n    }), e.d(n, \"easeInCirc\", function () {\n      return S;\n    }), e.d(n, \"easeOutCirc\", function () {\n      return O;\n    }), e.d(n, \"easeInOutCirc\", function () {\n      return j;\n    }), e.d(n, \"easeOutBounce\", function () {\n      return k;\n    }), e.d(n, \"easeInBack\", function () {\n      return M;\n    }), e.d(n, \"easeOutBack\", function () {\n      return P;\n    }), e.d(n, \"easeInOutBack\", function () {\n      return T;\n    }), e.d(n, \"elastic\", function () {\n      return x;\n    }), e.d(n, \"swingFromTo\", function () {\n      return A;\n    }), e.d(n, \"swingFrom\", function () {\n      return E;\n    }), e.d(n, \"swingTo\", function () {\n      return F;\n    }), e.d(n, \"bounce\", function () {\n      return I;\n    }), e.d(n, \"bouncePast\", function () {\n      return C;\n    }), e.d(n, \"easeFromTo\", function () {\n      return q;\n    }), e.d(n, \"easeFrom\", function () {\n      return D;\n    }), e.d(n, \"easeTo\", function () {\n      return Q;\n    });\n    /*!\n     * All equations are adapted from Thomas Fuchs'\n     * [Scripty2](https://github.com/madrobby/scripty2/blob/master/src/effects/transitions/penner.js).\n     *\n     * Based on Easing Equations (c) 2003 [Robert\n     * Penner](http://www.robertpenner.com/), all rights reserved. This work is\n     * [subject to terms](http://www.robertpenner.com/easing_terms_of_use.html).\n     */\n\n    /*!\n     *  TERMS OF USE - EASING EQUATIONS\n     *  Open source under the BSD License.\n     *  Easing Equations (c) 2003 Robert Penner, all rights reserved.\n     */\n\n    var r = function (t) {\n      return t;\n    },\n        i = function (t) {\n      return Math.pow(t, 2);\n    },\n        u = function (t) {\n      return -(Math.pow(t - 1, 2) - 1);\n    },\n        o = function (t) {\n      return (t /= .5) < 1 ? .5 * Math.pow(t, 2) : -.5 * ((t -= 2) * t - 2);\n    },\n        a = function (t) {\n      return Math.pow(t, 3);\n    },\n        c = function (t) {\n      return Math.pow(t - 1, 3) + 1;\n    },\n        s = function (t) {\n      return (t /= .5) < 1 ? .5 * Math.pow(t, 3) : .5 * (Math.pow(t - 2, 3) + 2);\n    },\n        f = function (t) {\n      return Math.pow(t, 4);\n    },\n        l = function (t) {\n      return -(Math.pow(t - 1, 4) - 1);\n    },\n        h = function (t) {\n      return (t /= .5) < 1 ? .5 * Math.pow(t, 4) : -.5 * ((t -= 2) * Math.pow(t, 3) - 2);\n    },\n        p = function (t) {\n      return Math.pow(t, 5);\n    },\n        d = function (t) {\n      return Math.pow(t - 1, 5) + 1;\n    },\n        _ = function (t) {\n      return (t /= .5) < 1 ? .5 * Math.pow(t, 5) : .5 * (Math.pow(t - 2, 5) + 2);\n    },\n        v = function (t) {\n      return 1 - Math.cos(t * (Math.PI / 2));\n    },\n        y = function (t) {\n      return Math.sin(t * (Math.PI / 2));\n    },\n        g = function (t) {\n      return -.5 * (Math.cos(Math.PI * t) - 1);\n    },\n        m = function (t) {\n      return 0 === t ? 0 : Math.pow(2, 10 * (t - 1));\n    },\n        b = function (t) {\n      return 1 === t ? 1 : 1 - Math.pow(2, -10 * t);\n    },\n        w = function (t) {\n      return 0 === t ? 0 : 1 === t ? 1 : (t /= .5) < 1 ? .5 * Math.pow(2, 10 * (t - 1)) : .5 * (2 - Math.pow(2, -10 * --t));\n    },\n        S = function (t) {\n      return -(Math.sqrt(1 - t * t) - 1);\n    },\n        O = function (t) {\n      return Math.sqrt(1 - Math.pow(t - 1, 2));\n    },\n        j = function (t) {\n      return (t /= .5) < 1 ? -.5 * (Math.sqrt(1 - t * t) - 1) : .5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n    },\n        k = function (t) {\n      return t < 1 / 2.75 ? 7.5625 * t * t : t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375;\n    },\n        M = function (t) {\n      var n = 1.70158;\n      return t * t * ((n + 1) * t - n);\n    },\n        P = function (t) {\n      var n = 1.70158;\n      return (t -= 1) * t * ((n + 1) * t + n) + 1;\n    },\n        T = function (t) {\n      var n = 1.70158;\n      return (t /= .5) < 1 ? t * t * ((1 + (n *= 1.525)) * t - n) * .5 : .5 * ((t -= 2) * t * ((1 + (n *= 1.525)) * t + n) + 2);\n    },\n        x = function (t) {\n      return -1 * Math.pow(4, -8 * t) * Math.sin((6 * t - 1) * (2 * Math.PI) / 2) + 1;\n    },\n        A = function (t) {\n      var n = 1.70158;\n      return (t /= .5) < 1 ? t * t * ((1 + (n *= 1.525)) * t - n) * .5 : .5 * ((t -= 2) * t * ((1 + (n *= 1.525)) * t + n) + 2);\n    },\n        E = function (t) {\n      var n = 1.70158;\n      return t * t * ((n + 1) * t - n);\n    },\n        F = function (t) {\n      var n = 1.70158;\n      return (t -= 1) * t * ((n + 1) * t + n) + 1;\n    },\n        I = function (t) {\n      return t < 1 / 2.75 ? 7.5625 * t * t : t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375;\n    },\n        C = function (t) {\n      return t < 1 / 2.75 ? 7.5625 * t * t : t < 2 / 2.75 ? 2 - (7.5625 * (t -= 1.5 / 2.75) * t + .75) : t < 2.5 / 2.75 ? 2 - (7.5625 * (t -= 2.25 / 2.75) * t + .9375) : 2 - (7.5625 * (t -= 2.625 / 2.75) * t + .984375);\n    },\n        q = function (t) {\n      return (t /= .5) < 1 ? .5 * Math.pow(t, 4) : -.5 * ((t -= 2) * Math.pow(t, 3) - 2);\n    },\n        D = function (t) {\n      return Math.pow(t, 4);\n    },\n        Q = function (t) {\n      return Math.pow(t, .25);\n    };\n  }, function (t, n) {\n    var e;\n\n    e = function () {\n      return this;\n    }();\n\n    try {\n      e = e || new Function(\"return this\")();\n    } catch (t) {\n      \"object\" == typeof window && (e = window);\n    }\n\n    t.exports = e;\n  }, function (t, n, e) {\n    \"use strict\";\n\n    e.r(n), e.d(n, \"processTweens\", function () {\n      return o.c;\n    }), e.d(n, \"Tweenable\", function () {\n      return o.a;\n    }), e.d(n, \"tween\", function () {\n      return o.d;\n    }), e.d(n, \"interpolate\", function () {\n      return F;\n    }), e.d(n, \"Scene\", function () {\n      return B;\n    }), e.d(n, \"setBezierFunction\", function () {\n      return z;\n    }), e.d(n, \"unsetBezierFunction\", function () {\n      return L;\n    });\n    var r = {};\n    e.r(r), e.d(r, \"doesApply\", function () {\n      return O;\n    }), e.d(r, \"tweenCreated\", function () {\n      return j;\n    }), e.d(r, \"beforeTween\", function () {\n      return k;\n    }), e.d(r, \"afterTween\", function () {\n      return M;\n    });\n\n    var i,\n        u,\n        o = e(0),\n        a = /(\\d|-|\\.)/,\n        c = /([^\\-0-9.]+)/g,\n        s = /[0-9.-]+/g,\n        f = (i = s.source, u = /,\\s*/.source, new RegExp(\"rgb\\\\(\".concat(i).concat(u).concat(i).concat(u).concat(i, \"\\\\)\"), \"g\")),\n        l = /^.*\\(/,\n        h = /#([0-9]|[a-f]){3,6}/gi,\n        p = function (t, n) {\n      return t.map(function (t, e) {\n        return \"_\".concat(n, \"_\").concat(e);\n      });\n    };\n\n    function d(t) {\n      return parseInt(t, 16);\n    }\n\n    var _ = function (t) {\n      return \"rgb(\".concat((n = t, 3 === (n = n.replace(/#/, \"\")).length && (n = (n = n.split(\"\"))[0] + n[0] + n[1] + n[1] + n[2] + n[2]), [d(n.substr(0, 2)), d(n.substr(2, 2)), d(n.substr(4, 2))]).join(\",\"), \")\");\n      var n;\n    },\n        v = function (t, n, e) {\n      var r = n.match(t),\n          i = n.replace(t, \"VAL\");\n      return r && r.forEach(function (t) {\n        return i = i.replace(\"VAL\", e(t));\n      }), i;\n    },\n        y = function (t) {\n      for (var n in t) {\n        var e = t[n];\n        \"string\" == typeof e && e.match(h) && (t[n] = v(h, e, _));\n      }\n    },\n        g = function (t) {\n      var n = t.match(s).map(Math.floor),\n          e = t.match(l)[0];\n      return \"\".concat(e).concat(n.join(\",\"), \")\");\n    },\n        m = function (t) {\n      return t.match(s);\n    },\n        b = function (t, n) {\n      var e = {};\n      return n.forEach(function (n) {\n        e[n] = t[n], delete t[n];\n      }), e;\n    },\n        w = function (t, n) {\n      return n.map(function (n) {\n        return t[n];\n      });\n    },\n        S = function (t, n) {\n      return n.forEach(function (n) {\n        return t = t.replace(\"VAL\", +n.toFixed(4));\n      }), t;\n    },\n        O = function (t) {\n      for (var n in t._currentState) if (\"string\" == typeof t._currentState[n]) return !0;\n\n      return !1;\n    };\n\n    function j(t) {\n      var n = t._currentState;\n      [n, t._originalState, t._targetState].forEach(y), t._tokenData = function (t) {\n        var n,\n            e,\n            r = {};\n\n        for (var i in t) {\n          var u = t[i];\n          \"string\" == typeof u && (r[i] = {\n            formatString: (n = u, e = void 0, e = n.match(c), e ? (1 === e.length || n.charAt(0).match(a)) && e.unshift(\"\") : e = [\"\", \"\"], e.join(\"VAL\")),\n            chunkNames: p(m(u), i)\n          });\n        }\n\n        return r;\n      }(n);\n    }\n\n    function k(t) {\n      var n = t._currentState,\n          e = t._originalState,\n          r = t._targetState,\n          i = t._easing,\n          u = t._tokenData;\n      !function (t, n) {\n        var e = function (e) {\n          var r = n[e].chunkNames,\n              i = t[e];\n\n          if (\"string\" == typeof i) {\n            var u = i.split(\" \"),\n                o = u[u.length - 1];\n            r.forEach(function (n, e) {\n              return t[n] = u[e] || o;\n            });\n          } else r.forEach(function (n) {\n            return t[n] = i;\n          });\n\n          delete t[e];\n        };\n\n        for (var r in n) e(r);\n      }(i, u), [n, e, r].forEach(function (t) {\n        return function (t, n) {\n          var e = function (e) {\n            m(t[e]).forEach(function (r, i) {\n              return t[n[e].chunkNames[i]] = +r;\n            }), delete t[e];\n          };\n\n          for (var r in n) e(r);\n        }(t, u);\n      });\n    }\n\n    function M(t) {\n      var n = t._currentState,\n          e = t._originalState,\n          r = t._targetState,\n          i = t._easing,\n          u = t._tokenData;\n      [n, e, r].forEach(function (t) {\n        return function (t, n) {\n          for (var e in n) {\n            var r = n[e],\n                i = r.chunkNames,\n                u = r.formatString,\n                o = S(u, w(b(t, i), i));\n            t[e] = v(f, o, g);\n          }\n        }(t, u);\n      }), function (t, n) {\n        for (var e in n) {\n          var r = n[e].chunkNames,\n              i = t[r[0]];\n          t[e] = \"string\" == typeof i ? r.map(function (n) {\n            var e = t[n];\n            return delete t[n], e;\n          }).join(\" \") : i;\n        }\n      }(i, u);\n    }\n\n    function P(t, n) {\n      var e = Object.keys(t);\n\n      if (Object.getOwnPropertySymbols) {\n        var r = Object.getOwnPropertySymbols(t);\n        n && (r = r.filter(function (n) {\n          return Object.getOwnPropertyDescriptor(t, n).enumerable;\n        })), e.push.apply(e, r);\n      }\n\n      return e;\n    }\n\n    function T(t) {\n      for (var n = 1; n < arguments.length; n++) {\n        var e = null != arguments[n] ? arguments[n] : {};\n        n % 2 ? P(Object(e), !0).forEach(function (n) {\n          x(t, n, e[n]);\n        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(e)) : P(Object(e)).forEach(function (n) {\n          Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(e, n));\n        });\n      }\n\n      return t;\n    }\n\n    function x(t, n, e) {\n      return n in t ? Object.defineProperty(t, n, {\n        value: e,\n        enumerable: !0,\n        configurable: !0,\n        writable: !0\n      }) : t[n] = e, t;\n    }\n\n    var A = new o.a(),\n        E = o.a.filters,\n        F = function (t, n, e, r) {\n      var i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0,\n          u = T({}, t),\n          a = Object(o.b)(t, r);\n\n      for (var c in A._filters.length = 0, A.set({}), A._currentState = u, A._originalState = t, A._targetState = n, A._easing = a, E) E[c].doesApply(A) && A._filters.push(E[c]);\n\n      A._applyFilter(\"tweenCreated\"), A._applyFilter(\"beforeTween\");\n      var s = Object(o.e)(e, u, t, n, 1, i, a);\n      return A._applyFilter(\"afterTween\"), s;\n    };\n\n    function I(t) {\n      return function (t) {\n        if (Array.isArray(t)) return C(t);\n      }(t) || function (t) {\n        if (\"undefined\" != typeof Symbol && Symbol.iterator in Object(t)) return Array.from(t);\n      }(t) || function (t, n) {\n        if (!t) return;\n        if (\"string\" == typeof t) return C(t, n);\n        var e = Object.prototype.toString.call(t).slice(8, -1);\n        \"Object\" === e && t.constructor && (e = t.constructor.name);\n        if (\"Map\" === e || \"Set\" === e) return Array.from(t);\n        if (\"Arguments\" === e || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)) return C(t, n);\n      }(t) || function () {\n        throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n      }();\n    }\n\n    function C(t, n) {\n      (null == n || n > t.length) && (n = t.length);\n\n      for (var e = 0, r = new Array(n); e < n; e++) r[e] = t[e];\n\n      return r;\n    }\n\n    function q(t, n) {\n      if (!(t instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n    }\n\n    function D(t, n) {\n      for (var e = 0; e < n.length; e++) {\n        var r = n[e];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(t, r.key, r);\n      }\n    }\n\n    function Q(t, n) {\n      var e = n.get(t);\n      if (!e) throw new TypeError(\"attempted to get private field on non-instance\");\n      return e.get ? e.get.call(t) : e.value;\n    }\n\n    var N = new WeakMap(),\n        B = function () {\n      function t() {\n        q(this, t), N.set(this, {\n          writable: !0,\n          value: []\n        });\n\n        for (var n = arguments.length, e = new Array(n), r = 0; r < n; r++) e[r] = arguments[r];\n\n        e.forEach(this.add.bind(this));\n      }\n\n      var n, e, r;\n      return n = t, (e = [{\n        key: \"add\",\n        value: function (t) {\n          return Q(this, N).push(t), t;\n        }\n      }, {\n        key: \"remove\",\n        value: function (t) {\n          var n = Q(this, N).indexOf(t);\n          return ~n && Q(this, N).splice(n, 1), t;\n        }\n      }, {\n        key: \"empty\",\n        value: function () {\n          return this.tweenables.map(this.remove.bind(this));\n        }\n      }, {\n        key: \"isPlaying\",\n        value: function () {\n          return Q(this, N).some(function (t) {\n            return t.isPlaying();\n          });\n        }\n      }, {\n        key: \"play\",\n        value: function () {\n          return Q(this, N).forEach(function (t) {\n            return t.tween();\n          }), this;\n        }\n      }, {\n        key: \"pause\",\n        value: function () {\n          return Q(this, N).forEach(function (t) {\n            return t.pause();\n          }), this;\n        }\n      }, {\n        key: \"resume\",\n        value: function () {\n          return Q(this, N).forEach(function (t) {\n            return t.resume();\n          }), this;\n        }\n      }, {\n        key: \"stop\",\n        value: function (t) {\n          return Q(this, N).forEach(function (n) {\n            return n.stop(t);\n          }), this;\n        }\n      }, {\n        key: \"tweenables\",\n        get: function () {\n          return I(Q(this, N));\n        }\n      }, {\n        key: \"promises\",\n        get: function () {\n          return Q(this, N).map(function (t) {\n            return t._promise;\n          });\n        }\n      }]) && D(n.prototype, e), r && D(n, r), t;\n    }();\n\n    function R(t, n, e, r, i, u) {\n      var o,\n          a,\n          c = 0,\n          s = 0,\n          f = 0,\n          l = 0,\n          h = 0,\n          p = 0,\n          d = function (t) {\n        return ((c * t + s) * t + f) * t;\n      },\n          _ = function (t) {\n        return (3 * c * t + 2 * s) * t + f;\n      },\n          v = function (t) {\n        return t >= 0 ? t : 0 - t;\n      };\n\n      return c = 1 - (f = 3 * n) - (s = 3 * (r - n) - f), l = 1 - (p = 3 * e) - (h = 3 * (i - e) - p), o = t, a = function (t) {\n        return 1 / (200 * t);\n      }(u), function (t) {\n        return ((l * t + h) * t + p) * t;\n      }(function (t, n) {\n        var e, r, i, u, o, a;\n\n        for (i = t, a = 0; a < 8; a++) {\n          if (u = d(i) - t, v(u) < n) return i;\n          if (o = _(i), v(o) < 1e-6) break;\n          i -= u / o;\n        }\n\n        if ((i = t) < (e = 0)) return e;\n        if (i > (r = 1)) return r;\n\n        for (; e < r;) {\n          if (u = d(i), v(u - t) < n) return i;\n          t > u ? e = i : r = i, i = .5 * (r - e) + e;\n        }\n\n        return i;\n      }(o, a));\n    }\n\n    var z = function (t, n, e, r, i) {\n      var u = function (t, n, e, r) {\n        return function (i) {\n          return R(i, t, n, e, r, 1);\n        };\n      }(n, e, r, i);\n\n      return u.displayName = t, u.x1 = n, u.y1 = e, u.x2 = r, u.y2 = i, o.a.formulas[t] = u;\n    },\n        L = function (t) {\n      return delete o.a.formulas[t];\n    };\n\n    o.a.filters.token = r;\n  }]);\n});","map":{"version":3,"sources":["webpack://shifty/webpack/universalModuleDefinition","webpack://shifty/webpack/bootstrap","webpack://shifty/src/tweenable.js","webpack://shifty/node_modules/object-assign/index.js","webpack://shifty/src/easing-functions.js","webpack://shifty/(webpack)/buildin/global.js","webpack://shifty/src/token.js","webpack://shifty/src/interpolate.js","webpack://shifty/src/scene.js","webpack://shifty/src/bezier.js","webpack://shifty/src/index.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","global","scheduleFunction","requestAnimationFrame","webkitRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","mozCancelRequestAnimationFrame","mozRequestAnimationFrame","setTimeout","noop","listHead","listTail","formulas","assign","easingFunctions","tweenProps","normalizedPosition","easingObjectProp","easingFn","start","forPosition","currentState","originalState","targetState","duration","timestamp","easing","processTween","endTime","timeToCompute","offset","delay","tween","currentTime","_duration","_timestamp","_currentState","_targetState","_delay","_render","_data","stop","_applyFilter","_originalState","_easing","processTweens","currentTween","nextTweenToProcess","Tweenable","now","_next","scheduleUpdate","composeEasingObject","fromTweenParams","composedEasing","typeofEasing","prop","remove","previousTween","nextTween","_previous","initialState","config","undefined","this","setConfig","filterName","_filters","length","filter","_isPlaying","_config","_pausedAtTime","_start","_resume","promise","Promise","render","step","data","attachment","_scheduleId","from","to","filters","doesApply","push","_promise","resolve","reject","_resolve","_reject","state","millisecond","Math","max","gotoEnd","tweenable","setScheduleFunction","fn","Date","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","toObject","val","TypeError","test1","String","getOwnPropertyNames","test2","fromCharCode","map","join","test3","split","forEach","letter","keys","err","shouldUseNative","target","source","symbols","arguments","linear","pos","easeInQuad","pow","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","PI","easeOutSine","sin","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","sqrt","easeOutCirc","easeInOutCirc","easeOutBounce","easeInBack","easeOutBack","easeInOutBack","elastic","swingFromTo","swingFrom","swingTo","bounce","bouncePast","easeFromTo","easeFrom","easeTo","g","Function","e","R_NUMBER_COMPONENT","R_FORMAT_CHUNKS","R_UNFORMATTED_VALUES","R_RGB","number","comma","RegExp","R_RGB_PREFIX","R_HEX","getFormatChunksFrom","rawValues","prefix","formattedString","chunks","match","charAt","unshift","hexToDec","hex","parseInt","replace","substr","convertHexToRGB","hexString","filterStringChunks","pattern","unfilteredString","patternMatches","filteredString","sanitizeObjectForHexProps","stateObject","currentProp","sanitizeRGBChunk","numbers","rgbChunk","floor","getValuesFrom","signatures","propertyName","formatString","chunkNames","formatSignatures","extractPropertyChunks","extractedValues","chunkName","getValuesList","getFormattedValues","rawValue","toFixed","easingObject","tokenData","easingNames","defaultEasing","firstEasing","easingName","tweenCreated","_tokenData","getFormatSignatures","beforeTween","expandEasingObject","expandFormattedProperties","afterTween","collapseFormattedProperties","collapseEasingObject","mockTweenable","interpolate","position","current","set","interpolatedValues","Scene","tweenables","add","index","indexOf","splice","some","isPlaying","pause","resume","cubicBezierAtTime","p1x","p1y","p2x","p2y","ax","bx","cx","ay","by","cy","sampleCurveX","sampleCurveDerivativeX","fabs","x","epsilon","t0","t1","t2","x2","d2","sampleCurveY","solveCurveX","solveEpsilon","x1","y1","y2","setBezierFunction","cubicBezierTransition","getCubicBezierTransition","displayName","unsetBezierFunction","token"],"mappings":"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;AAAA,KAAA,CAAA,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,aAAA,EAAA,YAAA;AAAA,aAAA,CAAA;AAAA,KAAA,CAAA,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,cAAA,EAAA,YAAA;AAAA,aAAA,CAAA;AAAA,KAAA,CAAA,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,gBAAA,EAAA,YAAA;AAAA,aAAA,CAAA;AAAA,KAAA,CAAA,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,aAAA,EAAA,YAAA;AAAA,aAAA,CAAA;AAAA,KAAA,CAAA,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,cAAA,EAAA,YAAA;AAAA,aAAA,CAAA;AAAA,KAAA,CAAA,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,gBAAA,EAAA,YAAA;AAAA,aAAA,CAAA;AAAA,KAAA,CAAA,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,aAAA,EAAA,YAAA;AAAA,aAAA,CAAA;AAAA,KAAA,CAAA,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,cAAA,EAAA,YAAA;AAAA,aAAA,CAAA;AAAA,KAAA,CAAA,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,gBAAA,EAAA,YAAA;AAAA,aAAA,CAAA;AAAA,KAAA,CAAA,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,YAAA,EAAA,YAAA;AAAA,aAAA,CAAA;AAAA,KAAA,CAAA,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,aAAA,EAAA,YAAA;AAAA,aAAA,CAAA;AAAA,KAAA,CAAA,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,eAAA,EAAA,YAAA;AAAA,aAAA,CAAA;AAAA,KAAA,CAAA,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,YAAA,EAAA,YAAA;AAAA,aAAA,CAAA;AAAA,KAAA,CAAA,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,aAAA,EAAA,YAAA;AAAA,aAAA,CAAA;AAAA,KAAA,CAAA,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,eAAA,EAAA,YAAA;AAAA,aAAA,C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","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"shifty\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"shifty\"] = factory();\n\telse\n\t\troot[\"shifty\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n","import assign from 'object-assign'\nimport * as easingFunctions from './easing-functions'\n\n// CONSTANTS\nconst DEFAULT_EASING = 'linear'\nconst DEFAULT_DURATION = 500\nconst UPDATE_TIME = 1000 / 60\nconst root = typeof window !== 'undefined' ? window : global\n\nconst AFTER_TWEEN = 'afterTween'\nconst AFTER_TWEEN_END = 'afterTweenEnd'\nconst BEFORE_TWEEN = 'beforeTween'\nconst TWEEN_CREATED = 'tweenCreated'\nconst TYPE_FUNCTION = 'function'\nconst TYPE_STRING = 'string'\n\n// requestAnimationFrame() shim by Paul Irish (modified for Shifty)\n// http://paulirish.com/2011/requestanimationframe-for-smart-animating/\nlet scheduleFunction =\n  root.requestAnimationFrame ||\n  root.webkitRequestAnimationFrame ||\n  root.oRequestAnimationFrame ||\n  root.msRequestAnimationFrame ||\n  (root.mozCancelRequestAnimationFrame && root.mozRequestAnimationFrame) ||\n  setTimeout\n\nconst noop = () => {}\n\nlet listHead = null\nlet listTail = null\n\n// Strictly used for testing\nexport const resetList = () => (listHead = listTail = null)\nexport const getListHead = () => listHead\nexport const getListTail = () => listTail\n\nconst formulas = assign({}, easingFunctions)\n\n/**\n * Calculates the interpolated tween values of an Object for a given\n * timestamp.\n * @param {number} forPosition The position to compute the state for.\n * @param {Object} currentState Current state properties.\n * @param {Object} originalState: The original state properties the Object is\n * tweening from.\n * @param {Object} targetState: The destination state properties the Object\n * is tweening to.\n * @param {number} duration: The length of the tween in milliseconds.\n * @param {number} timestamp: The UNIX epoch time at which the tween began.\n * @param {Object<string|Function>} easing: This Object's keys must correspond\n * to the keys in targetState.\n * @returns {Object}\n * @private\n */\nexport const tweenProps = ((\n  normalizedPosition,\n  key,\n  easingObjectProp,\n  easingFn,\n  start\n) => (\n  forPosition,\n  currentState,\n  originalState,\n  targetState,\n  duration,\n  timestamp,\n  easing\n) => {\n  normalizedPosition =\n    forPosition < timestamp ? 0 : (forPosition - timestamp) / duration\n\n  for (key in currentState) {\n    easingObjectProp = easing[key]\n    easingFn = easingObjectProp.call\n      ? easingObjectProp\n      : formulas[easingObjectProp]\n    start = originalState[key]\n\n    currentState[key] =\n      start + (targetState[key] - start) * easingFn(normalizedPosition)\n  }\n\n  return currentState\n})()\n\nconst processTween = ((\n  duration,\n  timestamp,\n  endTime,\n  timeToCompute,\n  hasEnded,\n  offset,\n  currentState,\n  targetState,\n  delay\n) => (tween, currentTime) => {\n  duration = tween._duration\n  timestamp = tween._timestamp\n  currentState = tween._currentState\n  targetState = tween._targetState\n  delay = tween._delay\n\n  endTime = timestamp + delay + duration\n  timeToCompute = currentTime > endTime ? endTime : currentTime\n  hasEnded = timeToCompute >= endTime\n  offset = duration - (endTime - timeToCompute)\n\n  if (hasEnded) {\n    tween._render(targetState, tween._data, offset)\n    tween.stop(true)\n  } else {\n    tween._applyFilter(BEFORE_TWEEN)\n\n    // If the animation has not yet reached the start point (e.g., there was\n    // delay that has not yet completed), just interpolate the starting\n    // position of the tween.\n    if (timeToCompute < timestamp + delay) {\n      timestamp = duration = timeToCompute = 1\n    } else {\n      timestamp += delay\n    }\n\n    tweenProps(\n      timeToCompute,\n      currentState,\n      tween._originalState,\n      targetState,\n      duration,\n      timestamp,\n      tween._easing\n    )\n\n    tween._applyFilter(AFTER_TWEEN)\n    tween._render(currentState, tween._data, offset)\n  }\n})()\n\nexport const processTweens = (currentTime, currentTween, nextTweenToProcess) =>\n  /**\n   * Process all tweens currently managed by Shifty for the current tick. This\n   * does not perform any timing or update scheduling; it is the logic that is\n   * run *by* the scheduling functionality. Specifically, it computes the state\n   * and calls all of the relevant {@link shifty.tweenConfig} functions supplied\n   * to each of the tweens for the current point in time (as determined by {@link\n   * shifty.Tweenable.now}.\n   *\n   * This is a low-level API that won't be needed in the majority of situations.\n   * It is primarily useful as a hook for higher-level animation systems that are\n   * built on top of Shifty. If you need this function, it is likely you need to\n   * pass something like `() => {}` to {@link\n   * shifty.Tweenable.setScheduleFunction}, override {@link shifty.Tweenable.now}\n   * and manage the scheduling logic yourself.\n   *\n   * @method shifty.processTweens\n   * @see https://github.com/jeremyckahn/shifty/issues/109\n   */\n  (() => {\n    currentTime = Tweenable.now()\n    currentTween = listHead\n\n    while (currentTween) {\n      nextTweenToProcess = currentTween._next\n      processTween(currentTween, currentTime)\n      currentTween = nextTweenToProcess\n    }\n  })()\n\n/**\n * Handles the update logic for one tick of a tween.\n * @param {number} [currentTimeOverride] Needed for accurate timestamp in\n * shifty.Tweenable#seek.\n * @private\n */\nexport const scheduleUpdate = () => {\n  if (!listHead) {\n    return\n  }\n\n  scheduleFunction.call(root, scheduleUpdate, UPDATE_TIME)\n\n  processTweens()\n}\n\n/**\n * Creates a usable easing Object from a string, a function or another easing\n * Object.  If `easing` is an Object, then this function clones it and fills\n * in the missing properties with `\"linear\"`.\n * @param {Object.<string|Function>} fromTweenParams\n * @param {Object|string|Function} [easing]\n * @param {Object} [composedEasing] Reused composedEasing object (used internally)\n * @return {Object.<string|Function>}\n * @private\n */\nexport const composeEasingObject = (\n  fromTweenParams,\n  easing = DEFAULT_EASING,\n  composedEasing = {}\n) => {\n  let typeofEasing = typeof easing\n\n  if (typeofEasing === TYPE_STRING || typeofEasing === TYPE_FUNCTION) {\n    for (const prop in fromTweenParams) {\n      composedEasing[prop] = easing\n    }\n  } else {\n    for (const prop in fromTweenParams) {\n      composedEasing[prop] = easing[prop] || DEFAULT_EASING\n    }\n  }\n\n  return composedEasing\n}\n\n// Private declarations used below\n\nconst remove = ((previousTween, nextTween) => tween => {\n  // Adapted from:\n  // https://github.com/trekhleb/javascript-algorithms/blob/7c9601df3e8ca4206d419ce50b88bd13ff39deb6/src/data-structures/doubly-linked-list/DoublyLinkedList.js#L73-L121\n  if (tween === listHead) {\n    listHead = tween._next\n\n    if (listHead) {\n      listHead._previous = null\n    } else {\n      listTail = null\n    }\n  } else if (tween === listTail) {\n    listTail = tween._previous\n\n    if (listTail) {\n      listTail._next = null\n    } else {\n      listHead = null\n    }\n  } else {\n    previousTween = tween._previous\n    nextTween = tween._next\n\n    previousTween._next = nextTween\n    nextTween._previous = previousTween\n  }\n\n  // Clean up any references in case the tween is restarted later.\n  tween._previous = tween._next = null\n})()\n\nexport class Tweenable {\n  _config = {}\n  _data = {}\n  _filters = []\n  _next = null\n  _previous = null\n  _timestamp = null\n  _resolve = null\n  _reject = null\n  _currentState = {}\n  _originalState = {}\n  _targetState = {}\n  _start = noop\n  _render = noop\n\n  /**\n   * @param {Object} [initialState={}] The values that the initial tween should\n   * start at if a `from` value is not provided to {@link\n   * shifty.Tweenable#tween} or {@link shifty.Tweenable#setConfig}.\n   * @param {shifty.tweenConfig} [config] Configuration object to be passed to\n   * {@link shifty.Tweenable#setConfig}.\n   * @constructs shifty.Tweenable\n   */\n  constructor(initialState = {}, config = undefined) {\n    // The || doesn't seem necessary here, but it prevents a (tested) issue\n    // where initialState is null.\n    this._currentState = initialState || this._currentState\n\n    // To prevent unnecessary calls to setConfig do not set default\n    // configuration here.  Only set default configuration immediately before\n    // tweening if none has been set.\n    if (config) {\n      this.setConfig(config)\n    }\n  }\n\n  /**\n   * Applies a filter to Tweenable instance.\n   * @param {string} filterName The name of the filter to apply.\n   * @private\n   */\n  _applyFilter(filterName) {\n    for (let i = this._filters.length; i > 0; i--) {\n      const filterType = this._filters[i - i]\n      const filter = filterType[filterName]\n\n      if (filter) {\n        filter(this)\n      }\n    }\n  }\n\n  /**\n   * Configure and start a tween. If this {@link shifty.Tweenable}'s instance\n   * is already running, then it will stop playing the old tween and\n   * immediately play the new one.\n   * @method shifty.Tweenable#tween\n   * @param {shifty.tweenConfig} [config] Gets passed to {@link\n   * shifty.Tweenable#setConfig}.\n   * @return {external:Promise} This `Promise` resolves with a {@link\n   * shifty.promisedData} object.\n   */\n  tween(config = undefined) {\n    if (this._isPlaying) {\n      this.stop()\n    }\n\n    if (config || !this._config) {\n      this.setConfig(config)\n    }\n\n    this._pausedAtTime = null\n    this._timestamp = Tweenable.now()\n    this._start(this.get(), this._data)\n\n    return this._resume(this._timestamp)\n  }\n\n  /**\n   * Configure a tween that will start at some point in the future. Aside from\n   * `delay`, `from`, and `to`, each configuration option will automatically\n   * default to the same option used in the preceding tween of this {@link\n   * shifty.Tweenable} instance.\n   * @method shifty.Tweenable#setConfig\n   * @param {shifty.tweenConfig} [config={}]\n   * @return {shifty.Tweenable}\n   */\n  setConfig(config = {}) {\n    assign(this._config, config)\n\n    // Configuration options to reuse from previous tweens\n    const {\n      promise = Promise,\n      start = noop,\n      render = this._config.step || noop,\n\n      // Legacy option. Superseded by `render`.\n      step = noop,\n    } = this._config\n\n    // Attach something to this Tweenable instance (e.g.: a DOM element, an\n    // object, a string, etc.);\n    this._data = this._config.data || this._config.attachment || this._data\n\n    // Init the internal state\n    this._isPlaying = false\n    this._pausedAtTime = null\n    this._scheduleId = null\n    this._delay = config.delay || 0\n    this._start = start\n    this._render = render || step\n    this._duration = this._config.duration || DEFAULT_DURATION\n    assign(this._currentState, config.from)\n    assign(this._originalState, this._currentState)\n\n    // Ensure that there is always something to tween to.\n    assign(this._targetState, this._currentState, config.to)\n\n    this._easing = composeEasingObject(\n      this._currentState,\n      this._config.easing,\n      this._easing\n    )\n\n    this._filters.length = 0\n\n    for (const name in Tweenable.filters) {\n      if (Tweenable.filters[name].doesApply(this)) {\n        this._filters.push(Tweenable.filters[name])\n      }\n    }\n\n    this._applyFilter(TWEEN_CREATED)\n\n    this._promise = new promise((resolve, reject) => {\n      this._resolve = resolve\n      this._reject = reject\n    })\n\n    return this\n  }\n\n  /**\n   * @method shifty.Tweenable#get\n   * @return {Object} The current state.\n   */\n  get() {\n    return assign({}, this._currentState)\n  }\n\n  /**\n   * Set the current state.\n   * @method shifty.Tweenable#set\n   * @param {Object} state The state to set.\n   */\n  set(state) {\n    this._currentState = state\n  }\n\n  /**\n   * Pause a tween. Paused tweens can be resumed from the point at which they\n   * were paused. If a tween is not running, this is a no-op.\n   * @method shifty.Tweenable#pause\n   * @return {shifty.Tweenable}\n   */\n  pause() {\n    if (!this._isPlaying) {\n      return\n    }\n\n    this._pausedAtTime = Tweenable.now()\n    this._isPlaying = false\n    remove(this)\n\n    return this\n  }\n\n  /**\n   * Resume a paused tween.\n   * @method shifty.Tweenable#resume\n   * @return {external:Promise}\n   */\n  resume() {\n    return this._resume()\n  }\n\n  _resume(currentTime = Tweenable.now()) {\n    if (this._timestamp === null) {\n      return this.tween()\n    }\n\n    if (this._isPlaying) {\n      return this._promise\n    }\n\n    if (this._pausedAtTime) {\n      this._timestamp += currentTime - this._pausedAtTime\n      this._pausedAtTime = null\n    }\n\n    this._isPlaying = true\n\n    if (listHead === null) {\n      listHead = this\n      listTail = this\n      scheduleUpdate()\n    } else {\n      this._previous = listTail\n      listTail._next = this\n\n      listTail = this\n    }\n\n    return this._promise\n  }\n\n  /**\n   * Move the state of the animation to a specific point in the tween's\n   * timeline.  If the animation is not running, this will cause {@link\n   * shifty.renderFunction} handlers to be called.\n   * @method shifty.Tweenable#seek\n   * @param {millisecond} millisecond The millisecond of the animation to seek\n   * to.  This must not be less than `0`.\n   * @return {shifty.Tweenable}\n   */\n  seek(millisecond) {\n    millisecond = Math.max(millisecond, 0)\n    const currentTime = Tweenable.now()\n\n    if (this._timestamp + millisecond === 0) {\n      return this\n    }\n\n    this._timestamp = currentTime - millisecond\n\n    if (!this._isPlaying) {\n      // If the animation is not running, call processTween to make sure that\n      // any render handlers are run.\n      processTween(this, currentTime)\n    }\n\n    return this\n  }\n\n  /**\n   * Stops a tween. If a tween is not running, this is a no-op. This method\n   * does not cancel the tween {@link external:Promise}. For that, use {@link\n   * shifty.Tweenable#cancel}.\n   * @param {boolean} [gotoEnd] If `false`, the tween just stops at its current\n   * state.  If `true`, the tweened object's values are instantly set to the\n   * target values.\n   * @method shifty.Tweenable#stop\n   * @return {shifty.Tweenable}\n   */\n  stop(gotoEnd = false) {\n    if (!this._isPlaying) {\n      return this\n    }\n\n    this._isPlaying = false\n\n    remove(this)\n\n    if (gotoEnd) {\n      this._applyFilter(BEFORE_TWEEN)\n      tweenProps(\n        1,\n        this._currentState,\n        this._originalState,\n        this._targetState,\n        1,\n        0,\n        this._easing\n      )\n      this._applyFilter(AFTER_TWEEN)\n      this._applyFilter(AFTER_TWEEN_END)\n    }\n\n    if (this._resolve) {\n      this._resolve({\n        data: this._data,\n        state: this._currentState,\n        tweenable: this,\n      })\n    }\n\n    this._resolve = null\n    this._reject = null\n\n    assign(this._targetState, this._currentState)\n    assign(this._originalState, this._targetState)\n\n    return this\n  }\n\n  /**\n   * {@link shifty.Tweenable#stop}s a tween and also `reject`s its {@link\n   * external:Promise}. If a tween is not running, this is a no-op.\n   * @param {boolean} [gotoEnd] Is propagated to {@link shifty.Tweenable#stop}.\n   * @method shifty.Tweenable#cancel\n   * @return {shifty.Tweenable}\n   * @see https://github.com/jeremyckahn/shifty/issues/122\n   */\n  cancel(gotoEnd = false) {\n    const { _currentState, _data, _isPlaying } = this\n\n    if (!_isPlaying) {\n      return this\n    }\n\n    this._reject({\n      data: _data,\n      state: _currentState,\n      tweenable: this,\n    })\n\n    this._resolve = null\n    this._reject = null\n\n    return this.stop(gotoEnd)\n  }\n\n  /**\n   * Whether or not a tween is running.\n   * @method shifty.Tweenable#isPlaying\n   * @return {boolean}\n   */\n  isPlaying() {\n    return this._isPlaying\n  }\n\n  /**\n   * @method shifty.Tweenable#setScheduleFunction\n   * @param {shifty.scheduleFunction} scheduleFunction\n   * @deprecated Will be removed in favor of {@link shifty.Tweenable.setScheduleFunction} in 3.0.\n   */\n  setScheduleFunction(scheduleFunction) {\n    Tweenable.setScheduleFunction(scheduleFunction)\n  }\n\n  /**\n   * Get and optionally set the data that gets passed as `data` to {@link\n   * shifty.promisedData}, {@link shifty.startFunction} and {@link\n   * shifty.renderFunction}.\n   * @param {Object} [data]\n   * @method shifty.Tweenable#data\n   * @return {Object} The internally stored `data`.\n   */\n  data(data = null) {\n    if (data) {\n      this._data = assign({}, data)\n    }\n\n    return this._data\n  }\n\n  /**\n   * `delete` all \"own\" properties.  Call this when the {@link\n   * shifty.Tweenable} instance is no longer needed to free memory.\n   * @method shifty.Tweenable#dispose\n   */\n  dispose() {\n    for (const prop in this) {\n      delete this[prop]\n    }\n  }\n}\n\n/**\n * Set a custom schedule function.\n *\n * By default,\n * [`requestAnimationFrame`](https://developer.mozilla.org/en-US/docs/Web/API/window.requestAnimationFrame)\n * is used if available, otherwise\n * [`setTimeout`](https://developer.mozilla.org/en-US/docs/Web/API/Window.setTimeout)\n * is used.\n * @method shifty.Tweenable.setScheduleFunction\n * @param {shifty.scheduleFunction} fn The function to be\n * used to schedule the next frame to be rendered.\n * @return {shifty.scheduleFunction} The function that was set.\n */\nTweenable.setScheduleFunction = fn => (scheduleFunction = fn)\n\nTweenable.formulas = formulas\n\n/**\n * The {@link shifty.filter}s available for use.  These filters are\n * automatically applied at tween-time by Shifty. You can define your own\n * {@link shifty.filter}s and attach them to this object.\n * @member shifty.Tweenable.filters\n * @type {Object.<shifty.filter>}\n */\nTweenable.filters = {}\n\n/**\n * @method shifty.Tweenable.now\n * @static\n * @returns {number} The current timestamp.\n */\nTweenable.now = Date.now || (() => +new Date())\n\n/**\n * @method shifty.tween\n * @param {shifty.tweenConfig} [config={}]\n * @description Standalone convenience method that functions identically to\n * {@link shifty.Tweenable#tween}.  You can use this to create tweens without\n * needing to set up a {@link shifty.Tweenable} instance.\n *\n * ```\n * import { tween } from 'shifty';\n *\n * tween({ from: { x: 0 }, to: { x: 10 } }).then(\n *   () => console.log('All done!')\n * );\n * ```\n *\n * @returns {external:Promise} This `Promise` has a property called `tweenable`\n * that is the {@link shifty.Tweenable} instance that is running the tween.\n */\nexport function tween(config = {}) {\n  const tweenable = new Tweenable()\n  const promise = tweenable.tween(config)\n  promise.tweenable = tweenable\n\n  return promise\n}\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/*!\n * All equations are adapted from Thomas Fuchs'\n * [Scripty2](https://github.com/madrobby/scripty2/blob/master/src/effects/transitions/penner.js).\n *\n * Based on Easing Equations (c) 2003 [Robert\n * Penner](http://www.robertpenner.com/), all rights reserved. This work is\n * [subject to terms](http://www.robertpenner.com/easing_terms_of_use.html).\n */\n\n/*!\n *  TERMS OF USE - EASING EQUATIONS\n *  Open source under the BSD License.\n *  Easing Equations (c) 2003 Robert Penner, all rights reserved.\n */\n\n/**\n * @member shifty.Tweenable.formulas\n * @description A static Object of {@link shifty.easingFunction}s that can by\n * used by Shifty. The default values are defined in\n * [`easing-functions.js`](easing-functions.js.html), but you can add your own\n * {@link shifty.easingFunction}s by defining them as keys to this Object.\n *\n * Shifty ships with an implementation of [Robert Penner's easing\n * equations](http://robertpenner.com/easing/), as adapted from\n * [Scripty2](https://github.com/madrobby/scripty2/blob/master/src/effects/transitions/penner.js)'s\n * implementation.\n * <p data-height=\"934\" data-theme-id=\"0\" data-slug-hash=\"wqObdO\"\n * data-default-tab=\"js,result\" data-user=\"jeremyckahn\" data-embed-version=\"2\"\n * data-pen-title=\"Shifty - Easing formula names\" class=\"codepen\">See the Pen <a\n * href=\"https://codepen.io/jeremyckahn/pen/wqObdO/\">Shifty - Easing formula\n * names</a> by Jeremy Kahn (<a\n * href=\"https://codepen.io/jeremyckahn\">@jeremyckahn</a>) on <a\n * href=\"https://codepen.io\">CodePen</a>.</p>\n * <script async\n * src=\"https://production-assets.codepen.io/assets/embed/ei.js\"></script>\n * @type {Object.<shifty.easingFunction>}\n * @static\n */\n\nexport const linear = pos => pos\n\nexport const easeInQuad = pos => Math.pow(pos, 2)\n\nexport const easeOutQuad = pos => -(Math.pow(pos - 1, 2) - 1)\n\nexport const easeInOutQuad = pos =>\n  (pos /= 0.5) < 1 ? 0.5 * Math.pow(pos, 2) : -0.5 * ((pos -= 2) * pos - 2)\n\nexport const easeInCubic = pos => Math.pow(pos, 3)\n\nexport const easeOutCubic = pos => Math.pow(pos - 1, 3) + 1\n\nexport const easeInOutCubic = pos =>\n  (pos /= 0.5) < 1 ? 0.5 * Math.pow(pos, 3) : 0.5 * (Math.pow(pos - 2, 3) + 2)\n\nexport const easeInQuart = pos => Math.pow(pos, 4)\n\nexport const easeOutQuart = pos => -(Math.pow(pos - 1, 4) - 1)\n\nexport const easeInOutQuart = pos =>\n  (pos /= 0.5) < 1\n    ? 0.5 * Math.pow(pos, 4)\n    : -0.5 * ((pos -= 2) * Math.pow(pos, 3) - 2)\n\nexport const easeInQuint = pos => Math.pow(pos, 5)\n\nexport const easeOutQuint = pos => Math.pow(pos - 1, 5) + 1\n\nexport const easeInOutQuint = pos =>\n  (pos /= 0.5) < 1 ? 0.5 * Math.pow(pos, 5) : 0.5 * (Math.pow(pos - 2, 5) + 2)\n\nexport const easeInSine = pos => -Math.cos(pos * (Math.PI / 2)) + 1\n\nexport const easeOutSine = pos => Math.sin(pos * (Math.PI / 2))\n\nexport const easeInOutSine = pos => -0.5 * (Math.cos(Math.PI * pos) - 1)\n\nexport const easeInExpo = pos => (pos === 0 ? 0 : Math.pow(2, 10 * (pos - 1)))\n\nexport const easeOutExpo = pos => (pos === 1 ? 1 : -Math.pow(2, -10 * pos) + 1)\n\nexport const easeInOutExpo = pos => {\n  if (pos === 0) {\n    return 0\n  }\n\n  if (pos === 1) {\n    return 1\n  }\n\n  if ((pos /= 0.5) < 1) {\n    return 0.5 * Math.pow(2, 10 * (pos - 1))\n  }\n\n  return 0.5 * (-Math.pow(2, -10 * --pos) + 2)\n}\n\nexport const easeInCirc = pos => -(Math.sqrt(1 - pos * pos) - 1)\n\nexport const easeOutCirc = pos => Math.sqrt(1 - Math.pow(pos - 1, 2))\n\nexport const easeInOutCirc = pos =>\n  (pos /= 0.5) < 1\n    ? -0.5 * (Math.sqrt(1 - pos * pos) - 1)\n    : 0.5 * (Math.sqrt(1 - (pos -= 2) * pos) + 1)\n\nexport const easeOutBounce = pos => {\n  if (pos < 1 / 2.75) {\n    return 7.5625 * pos * pos\n  } else if (pos < 2 / 2.75) {\n    return 7.5625 * (pos -= 1.5 / 2.75) * pos + 0.75\n  } else if (pos < 2.5 / 2.75) {\n    return 7.5625 * (pos -= 2.25 / 2.75) * pos + 0.9375\n  } else {\n    return 7.5625 * (pos -= 2.625 / 2.75) * pos + 0.984375\n  }\n}\n\nexport const easeInBack = pos => {\n  const s = 1.70158\n  return pos * pos * ((s + 1) * pos - s)\n}\n\nexport const easeOutBack = pos => {\n  const s = 1.70158\n  return (pos = pos - 1) * pos * ((s + 1) * pos + s) + 1\n}\n\nexport const easeInOutBack = pos => {\n  let s = 1.70158\n  if ((pos /= 0.5) < 1) {\n    return 0.5 * (pos * pos * (((s *= 1.525) + 1) * pos - s))\n  }\n  return 0.5 * ((pos -= 2) * pos * (((s *= 1.525) + 1) * pos + s) + 2)\n}\n\nexport const elastic = pos =>\n  -1 * Math.pow(4, -8 * pos) * Math.sin(((pos * 6 - 1) * (2 * Math.PI)) / 2) + 1\n\nexport const swingFromTo = pos => {\n  let s = 1.70158\n  return (pos /= 0.5) < 1\n    ? 0.5 * (pos * pos * (((s *= 1.525) + 1) * pos - s))\n    : 0.5 * ((pos -= 2) * pos * (((s *= 1.525) + 1) * pos + s) + 2)\n}\n\nexport const swingFrom = pos => {\n  const s = 1.70158\n  return pos * pos * ((s + 1) * pos - s)\n}\n\nexport const swingTo = pos => {\n  const s = 1.70158\n  return (pos -= 1) * pos * ((s + 1) * pos + s) + 1\n}\n\nexport const bounce = pos => {\n  if (pos < 1 / 2.75) {\n    return 7.5625 * pos * pos\n  } else if (pos < 2 / 2.75) {\n    return 7.5625 * (pos -= 1.5 / 2.75) * pos + 0.75\n  } else if (pos < 2.5 / 2.75) {\n    return 7.5625 * (pos -= 2.25 / 2.75) * pos + 0.9375\n  } else {\n    return 7.5625 * (pos -= 2.625 / 2.75) * pos + 0.984375\n  }\n}\n\nexport const bouncePast = pos => {\n  if (pos < 1 / 2.75) {\n    return 7.5625 * pos * pos\n  } else if (pos < 2 / 2.75) {\n    return 2 - (7.5625 * (pos -= 1.5 / 2.75) * pos + 0.75)\n  } else if (pos < 2.5 / 2.75) {\n    return 2 - (7.5625 * (pos -= 2.25 / 2.75) * pos + 0.9375)\n  } else {\n    return 2 - (7.5625 * (pos -= 2.625 / 2.75) * pos + 0.984375)\n  }\n}\n\nexport const easeFromTo = pos =>\n  (pos /= 0.5) < 1\n    ? 0.5 * Math.pow(pos, 4)\n    : -0.5 * ((pos -= 2) * Math.pow(pos, 3) - 2)\n\nexport const easeFrom = pos => Math.pow(pos, 4)\n\nexport const easeTo = pos => Math.pow(pos, 0.25)\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","const R_NUMBER_COMPONENT = /(\\d|-|\\.)/\nconst R_FORMAT_CHUNKS = /([^\\-0-9.]+)/g\nconst R_UNFORMATTED_VALUES = /[0-9.-]+/g\nconst R_RGB = (() => {\n  const number = R_UNFORMATTED_VALUES.source\n  const comma = /,\\s*/.source\n\n  return new RegExp(`rgb\\\\(${number}${comma}${number}${comma}${number}\\\\)`, 'g')\n})()\nconst R_RGB_PREFIX = /^.*\\(/\nconst R_HEX = /#([0-9]|[a-f]){3,6}/gi\nconst VALUE_PLACEHOLDER = 'VAL'\n\n// HELPERS\n\n/**\n * @param {Array.number} rawValues\n * @param {string} prefix\n *\n * @return {Array.<string>}\n * @private\n */\nconst getFormatChunksFrom = (rawValues, prefix) =>\n  rawValues.map((val, i) => `_${prefix}_${i}`)\n\n/**\n * @param {string} formattedString\n *\n * @return {string}\n * @private\n */\nconst getFormatStringFrom = formattedString => {\n  let chunks = formattedString.match(R_FORMAT_CHUNKS)\n\n  if (!chunks) {\n    // chunks will be null if there were no tokens to parse in\n    // formattedString (for example, if formattedString is '2').  Coerce\n    // chunks to be useful here.\n    chunks = ['', '']\n\n    // If there is only one chunk, assume that the string is a number\n    // followed by a token...\n    // NOTE: This may be an unwise assumption.\n  } else if (\n    chunks.length === 1 ||\n    // ...or if the string starts with a number component (\".\", \"-\", or a\n    // digit)...\n    formattedString.charAt(0).match(R_NUMBER_COMPONENT)\n  ) {\n    // ...prepend an empty string here to make sure that the formatted number\n    // is properly replaced by VALUE_PLACEHOLDER\n    chunks.unshift('')\n  }\n\n  return chunks.join(VALUE_PLACEHOLDER)\n}\n\n/**\n * Convert a base-16 number to base-10.\n *\n * @param {number|string} hex The value to convert.\n *\n * @returns {number} The base-10 equivalent of `hex`.\n * @private\n */\nfunction hexToDec(hex) {\n  return parseInt(hex, 16)\n}\n\n/**\n * Convert a hexadecimal string to an array with three items, one each for\n * the red, blue, and green decimal values.\n *\n * @param {string} hex A hexadecimal string.\n *\n * @returns {Array.<number>} The converted Array of RGB values if `hex` is a\n * valid string, or an Array of three 0's.\n * @private\n */\nconst hexToRGBArray = hex => {\n  hex = hex.replace(/#/, '')\n\n  // If the string is a shorthand three digit hex notation, normalize it to\n  // the standard six digit notation\n  if (hex.length === 3) {\n    hex = hex.split('')\n    hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2]\n  }\n\n  return [\n    hexToDec(hex.substr(0, 2)),\n    hexToDec(hex.substr(2, 2)),\n    hexToDec(hex.substr(4, 2)),\n  ]\n}\n\n/**\n * @param {string} hexString\n *\n * @return {string}\n * @private\n */\nconst convertHexToRGB = hexString =>\n  `rgb(${hexToRGBArray(hexString).join(',')})`\n\n/**\n * TODO: Can this be rewritten to leverage String#replace more efficiently?\n * Runs a filter operation on all chunks of a string that match a RegExp.\n *\n * @param {RegExp} pattern\n * @param {string} unfilteredString\n * @param {function(string)} filter\n *\n * @return {string}\n * @private\n */\nconst filterStringChunks = (pattern, unfilteredString, filter) => {\n  const patternMatches = unfilteredString.match(pattern)\n  let filteredString = unfilteredString.replace(pattern, VALUE_PLACEHOLDER)\n\n  if (patternMatches) {\n    patternMatches.forEach(\n      match =>\n        (filteredString = filteredString.replace(\n          VALUE_PLACEHOLDER,\n          filter(match)\n        ))\n    )\n  }\n\n  return filteredString\n}\n\n/**\n * @param {string} str\n *\n * @return {string}\n * @private\n */\nconst sanitizeHexChunksToRGB = str =>\n  filterStringChunks(R_HEX, str, convertHexToRGB)\n\n/**\n * Convert all hex color values within a string to an rgb string.\n *\n * @param {Object} stateObject\n * @private\n */\nconst sanitizeObjectForHexProps = stateObject => {\n  for (const prop in stateObject) {\n    const currentProp = stateObject[prop]\n\n    if (typeof currentProp === 'string' && currentProp.match(R_HEX)) {\n      stateObject[prop] = sanitizeHexChunksToRGB(currentProp)\n    }\n  }\n}\n\n/**\n * @param {string} rgbChunk\n *\n * @return {string}\n * @private\n */\nconst sanitizeRGBChunk = rgbChunk => {\n  const numbers = rgbChunk.match(R_UNFORMATTED_VALUES).map(Math.floor)\n  const prefix = rgbChunk.match(R_RGB_PREFIX)[0]\n\n  return `${prefix}${numbers.join(',')})`\n}\n\n/**\n * Check for floating point values within rgb strings and round them.\n *\n * @param {string} formattedString\n *\n * @return {string}\n * @private\n */\nconst sanitizeRGBChunks = formattedString =>\n  filterStringChunks(R_RGB, formattedString, sanitizeRGBChunk)\n\n/**\n * Note: It's the duty of the caller to convert the Array elements of the\n * return value into numbers.  This is a performance optimization.\n *\n * @param {string} formattedString\n *\n * @return {Array.<string>|null}\n * @private\n */\nconst getValuesFrom = formattedString =>\n  formattedString.match(R_UNFORMATTED_VALUES)\n\n/**\n * @param {Object} stateObject\n *\n * @return {Object} An Object of formatSignatures that correspond to\n * the string properties of stateObject.\n * @private\n */\nconst getFormatSignatures = stateObject => {\n  const signatures = {}\n\n  for (const propertyName in stateObject) {\n    const property = stateObject[propertyName]\n\n    if (typeof property === 'string') {\n      signatures[propertyName] = {\n        formatString: getFormatStringFrom(property),\n        chunkNames: getFormatChunksFrom(getValuesFrom(property), propertyName),\n      }\n    }\n  }\n\n  return signatures\n}\n\n/**\n * @param {Object} stateObject\n * @param {Object} formatSignatures\n * @private\n */\nconst expandFormattedProperties = (stateObject, formatSignatures) => {\n  for (const propertyName in formatSignatures) {\n    getValuesFrom(stateObject[propertyName]).forEach(\n      (number, i) =>\n        (stateObject[formatSignatures[propertyName].chunkNames[i]] = +number)\n    )\n\n    delete stateObject[propertyName]\n  }\n}\n\n/**\n * @param {Object} stateObject\n * @param {Array.<string>} chunkNames\n *\n * @return {Object} The extracted value chunks.\n * @private\n */\nconst extractPropertyChunks = (stateObject, chunkNames) => {\n  const extractedValues = {}\n\n  chunkNames.forEach(chunkName => {\n    extractedValues[chunkName] = stateObject[chunkName]\n    delete stateObject[chunkName]\n  })\n\n  return extractedValues\n}\n\n/**\n * @param {Object} stateObject\n * @param {Array.<string>} chunkNames\n *\n * @return {Array.<number>}\n * @private\n */\nconst getValuesList = (stateObject, chunkNames) =>\n  chunkNames.map(chunkName => stateObject[chunkName])\n\n/**\n * @param {string} formatString\n * @param {Array.<number>} rawValues\n *\n * @return {string}\n * @private\n */\nconst getFormattedValues = (formatString, rawValues) => {\n  rawValues.forEach(\n    rawValue =>\n      (formatString = formatString.replace(\n        VALUE_PLACEHOLDER,\n        +rawValue.toFixed(4)\n      ))\n  )\n\n  return formatString\n}\n\n/**\n * @param {Object} stateObject\n * @param {Object} formatSignatures\n * @private\n */\nconst collapseFormattedProperties = (stateObject, formatSignatures) => {\n  for (const prop in formatSignatures) {\n    const { chunkNames, formatString } = formatSignatures[prop]\n\n    const currentProp = getFormattedValues(\n      formatString,\n      getValuesList(extractPropertyChunks(stateObject, chunkNames), chunkNames)\n    )\n\n    stateObject[prop] = sanitizeRGBChunks(currentProp)\n  }\n}\n\n/**\n * @param {Object} easingObject\n * @param {Object} tokenData\n * @private\n */\nconst expandEasingObject = (easingObject, tokenData) => {\n  for (const prop in tokenData) {\n    const { chunkNames } = tokenData[prop]\n    const easing = easingObject[prop]\n\n    if (typeof easing === 'string') {\n      const easingNames = easing.split(' ')\n      const defaultEasing = easingNames[easingNames.length - 1]\n\n      chunkNames.forEach(\n        (chunkName, i) =>\n          (easingObject[chunkName] = easingNames[i] || defaultEasing)\n      )\n    } else {\n      // easing is a function\n      chunkNames.forEach(chunkName => (easingObject[chunkName] = easing))\n    }\n\n    delete easingObject[prop]\n  }\n}\n\n/**\n * @param {Object} easingObject\n * @param {Object} tokenData\n * @private\n */\nconst collapseEasingObject = (easingObject, tokenData) => {\n  for (const prop in tokenData) {\n    const { chunkNames } = tokenData[prop]\n    const firstEasing = easingObject[chunkNames[0]]\n\n    if (typeof firstEasing === 'string') {\n      easingObject[prop] = chunkNames\n        .map(chunkName => {\n          const easingName = easingObject[chunkName]\n          delete easingObject[chunkName]\n\n          return easingName\n        })\n        .join(' ')\n    } else {\n      // firstEasing is a function\n      easingObject[prop] = firstEasing\n    }\n  }\n}\n\nexport const doesApply = tweenable => {\n  for (const key in tweenable._currentState) {\n    if (typeof tweenable._currentState[key] === 'string') {\n      return true\n    }\n  }\n\n  return false\n}\n\nexport function tweenCreated(tweenable) {\n  const { _currentState, _originalState, _targetState } = tweenable\n\n  ;[_currentState, _originalState, _targetState].forEach(\n    sanitizeObjectForHexProps\n  )\n\n  tweenable._tokenData = getFormatSignatures(_currentState)\n}\n\nexport function beforeTween(tweenable) {\n  const {\n    _currentState,\n    _originalState,\n    _targetState,\n    _easing,\n    _tokenData,\n  } = tweenable\n\n  expandEasingObject(_easing, _tokenData)\n  ;[_currentState, _originalState, _targetState].forEach(state =>\n    expandFormattedProperties(state, _tokenData)\n  )\n}\n\nexport function afterTween(tweenable) {\n  const {\n    _currentState,\n    _originalState,\n    _targetState,\n    _easing,\n    _tokenData,\n  } = tweenable\n  ;[_currentState, _originalState, _targetState].forEach(state =>\n    collapseFormattedProperties(state, _tokenData)\n  )\n\n  collapseEasingObject(_easing, _tokenData)\n}\n","import { Tweenable, composeEasingObject, tweenProps } from './tweenable'\n\n// Fake a Tweenable and patch some internals.  This approach allows us to\n// skip uneccessary processing and object recreation, cutting down on garbage\n// collection pauses.\nconst mockTweenable = new Tweenable()\nconst { filters } = Tweenable\n\n/**\n * Compute the midpoint of two Objects.  This method effectively calculates a\n * specific frame of animation that {@link shifty.Tweenable#tween} does many times\n * over the course of a full tween.\n *\n * ```\n * import { interpolate } from 'shifty';\n *\n * const interpolatedValues = interpolate({\n *     width: '100px',\n *     opacity: 0,\n *     color: '#fff'\n *   }, {\n *     width: '200px',\n *     opacity: 1,\n *     color: '#000'\n *   },\n *   0.5\n * );\n *\n * console.log(interpolatedValues); // Logs: {opacity: 0.5, width: \"150px\", color: \"rgb(127,127,127)\"}\n * ```\n *\n * @method shifty.interpolate\n * @param {Object} from The starting values to tween from.\n * @param {Object} to The ending values to tween to.\n * @param {number} position The normalized position value (between `0.0` and\n * `1.0`) to interpolate the values between `from` and `to` for.  `from`\n * represents `0` and `to` represents `1`.\n * @param {Object.<string|shifty.easingFunction>|string|shifty.easingFunction}\n * easing The easing curve(s) to calculate the midpoint against.  You can\n * reference any easing function attached to {@link shifty.Tweenable.formulas},\n * or provide the {@link shifty.easingFunction}(s) directly.  If omitted, this\n * defaults to \"linear\".\n * @param {number} [delay=0] Optional delay to pad the beginning of the\n * interpolated tween with.  This increases the range of `position` from (`0`\n * through `1`) to (`0` through `1 + delay`).  So, a delay of `0.5` would\n * increase all valid values of `position` to numbers between `0` and `1.5`.\n * @return {Object}\n */\nexport const interpolate = (from, to, position, easing, delay = 0) => {\n  const current = { ...from }\n  const easingObject = composeEasingObject(from, easing)\n\n  mockTweenable._filters.length = 0\n\n  mockTweenable.set({})\n  mockTweenable._currentState = current\n  mockTweenable._originalState = from\n  mockTweenable._targetState = to\n  mockTweenable._easing = easingObject\n\n  for (const name in filters) {\n    if (filters[name].doesApply(mockTweenable)) {\n      mockTweenable._filters.push(filters[name])\n    }\n  }\n\n  // Any defined value transformation must be applied\n  mockTweenable._applyFilter('tweenCreated')\n  mockTweenable._applyFilter('beforeTween')\n\n  const interpolatedValues = tweenProps(\n    position,\n    current,\n    from,\n    to,\n    1,\n    delay,\n    easingObject\n  )\n\n  // Transform data in interpolatedValues back into its original format\n  mockTweenable._applyFilter('afterTween')\n\n  return interpolatedValues\n}\n","export class Scene {\n  #tweenables = []\n\n  /**\n   * The {@link shifty.Scene} class provides a way to control groups of {@link\n   * shifty.Tweenable}s. It is lightweight, minimalistic, and meant to provide\n   * performant {@link shifty.Tweenable} batch control that users of Shifty\n   * might otherwise have to implement themselves. It is **not** a robust\n   * timeline solution, and it does **not** provide utilities for sophisticated\n   * animation sequencing or orchestration. If that is what you need for your\n   * project, consider using a more robust tool such as\n   * [Rekapi](http://jeremyckahn.github.io/rekapi/doc/) (a timeline layer built\n   * on top of Shifty).\n   *\n   * Please be aware that {@link shifty.Scene} does **not** perform any\n   * automatic cleanup. If you want to remove a {@link shifty.Tweenable} from a\n   * {@link shifty.Scene}, you must do so explicitly with either {@link\n   * shifty.Scene#remove} or {@link shifty.Scene#empty}.\n   *\n   * <p class=\"codepen\" data-height=\"677\" data-theme-id=\"0\" data-default-tab=\"js,result\" data-user=\"jeremyckahn\" data-slug-hash=\"qvZKbe\" style=\"height: 677px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid black; margin: 1em 0; padding: 1em;\" data-pen-title=\"Shifty Scene Demo\">\n   * <span>See the Pen <a href=\"https://codepen.io/jeremyckahn/pen/qvZKbe/\">\n   * Shifty Scene Demo</a> by Jeremy Kahn (<a href=\"https://codepen.io/jeremyckahn\">@jeremyckahn</a>)\n   * on <a href=\"https://codepen.io\">CodePen</a>.</span>\n   * </p>\n   * <script async src=\"https://static.codepen.io/assets/embed/ei.js\"></script>\n   * @param {...shifty.Tweenable} tweenables\n   * @see https://codepen.io/jeremyckahn/pen/qvZKbe\n   * @constructs shifty.Scene\n   */\n  constructor(...tweenables) {\n    tweenables.forEach(this.add.bind(this))\n  }\n\n  /**\n   * A copy of the internal {@link shifty.Tweenable}s array.\n   * @member shifty.Scene#tweenables\n   * @type {Array.<shifty.Tweenable>}\n   * @readonly\n   */\n  get tweenables() {\n    return [...this.#tweenables]\n  }\n\n  /**\n   * The {@link external:Promise}s for all {@link shifty.Tweenable}s in this\n   * {@link shifty.Scene} that have been configured with {@link\n   * shifty.Tweenable#setConfig}. Note that each call of {@link\n   * shifty.Scene#play} or {@link shifty.Scene#pause} creates new {@link\n   * external:Promise}s:\n   *\n   *     const scene = new Scene(new Tweenable());\n   *     scene.play();\n   *\n   *     Promise.all(scene.promises).then(() =>\n   *       // Plays the scene again upon completion, but a new promise is\n   *       // created so this line only runs once.\n   *       scene.play()\n   *     );\n   *\n   * @member shifty.Scene#promises\n   * @type {Array.<external:Promise>}\n   * @readonly\n   */\n  get promises() {\n    return this.#tweenables.map(({ _promise }) => _promise)\n  }\n\n  /**\n   * Add a {@link shifty.Tweenable} to be controlled by this {@link\n   * shifty.Scene}.\n   * @method shifty.Scene#add\n   * @param {shifty.Tweenable} tweenable\n   * @return {shifty.Tweenable} The {@link shifty.Tweenable} that was added.\n   */\n  add(tweenable) {\n    this.#tweenables.push(tweenable)\n\n    return tweenable\n  }\n\n  /**\n   * Remove a {@link shifty.Tweenable} that is controlled by this {@link\n   * shifty.Scene}.\n   * @method shifty.Scene#remove\n   * @param {shifty.Tweenable} tweenable\n   * @return {shifty.Tweenable} The {@link shifty.Tweenable} that was removed.\n   */\n  remove(tweenable) {\n    const index = this.#tweenables.indexOf(tweenable)\n\n    if (~index) {\n      this.#tweenables.splice(index, 1)\n    }\n\n    return tweenable\n  }\n\n  /**\n   * [Remove]{@link shifty.Scene#remove} all {@link shifty.Tweenable}s in this {@link\n   * shifty.Scene}.\n   * @method shifty.Scene#empty\n   * @return {Array.<shifty.Tweenable>} The {@link shifty.Tweenable}s that were\n   * removed.\n   */\n  empty() {\n    // Deliberate of the tweenables getter here to create a temporary array\n    return this.tweenables.map(this.remove.bind(this))\n  }\n\n  /**\n   * Is `true` if any {@link shifty.Tweenable} in this {@link shifty.Scene} is\n   * playing.\n   * @method shifty.Scene#isPlaying\n   * @return {boolean}\n   */\n  isPlaying() {\n    return this.#tweenables.some(tweenable => tweenable.isPlaying())\n  }\n\n  /**\n   * Play all {@link shifty.Tweenable}s from their beginning.\n   * @method shifty.Scene#play\n   * @return {shifty.Scene}\n   */\n  play() {\n    this.#tweenables.forEach(tweenable => tweenable.tween())\n\n    return this\n  }\n\n  /**\n   * {@link shifty.Tweenable#pause} all {@link shifty.Tweenable}s in this\n   * {@link shifty.Scene}.\n   * @method shifty.Scene#pause\n   * @return {shifty.Scene}\n   */\n  pause() {\n    this.#tweenables.forEach(tweenable => tweenable.pause())\n    return this\n  }\n\n  /**\n   * {@link shifty.Tweenable#resume} all paused {@link shifty.Tweenable}s.\n   * @method shifty.Scene#resume\n   * @return {shifty.Scene}\n   */\n  resume() {\n    this.#tweenables.forEach(tweenable => tweenable.resume())\n\n    return this\n  }\n\n  /**\n   * {@link shifty.Tweenable#stop} all {@link shifty.Tweenable}s in this {@link\n   * shifty.Scene}.\n   * @method shifty.Scene#stop\n   * @param {boolean} [gotoEnd]\n   * @return {shifty.Scene}\n   */\n  stop(gotoEnd) {\n    this.#tweenables.forEach(tweenable => tweenable.stop(gotoEnd))\n    return this\n  }\n}\n","import { Tweenable } from './tweenable'\n\n/**\n * The Bezier magic in this file is adapted/copied almost wholesale from\n * [Scripty2](https://github.com/madrobby/scripty2/blob/master/src/effects/transitions/cubic-bezier.js),\n * which was adapted from Apple code (which probably came from\n * [here](http://opensource.apple.com/source/WebCore/WebCore-955.66/platform/graphics/UnitBezier.h)).\n * Special thanks to Apple and Thomas Fuchs for much of this code.\n */\n\n/**\n *  Copyright (c) 2006 Apple Computer, Inc. All rights reserved.\n *\n *  Redistribution and use in source and binary forms, with or without\n *  modification, are permitted provided that the following conditions are met:\n *\n *  1. Redistributions of source code must retain the above copyright notice,\n *  this list of conditions and the following disclaimer.\n *\n *  2. Redistributions in binary form must reproduce the above copyright notice,\n *  this list of conditions and the following disclaimer in the documentation\n *  and/or other materials provided with the distribution.\n *\n *  3. Neither the name of the copyright holder(s) nor the names of any\n *  contributors may be used to endorse or promote products derived from\n *  this software without specific prior written permission.\n *\n *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n *  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n *  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n *  ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\n *  LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n *  CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n *  SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n *  INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n *  CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n *  POSSIBILITY OF SUCH DAMAGE.\n */\n// port of webkit cubic bezier handling by http://www.netzgesta.de/dev/\n\n/**\n * @param {number} t\n * @param {number} p1x\n * @param {number} p1y\n * @param {number} p2x\n * @param {number} p2y\n * @param {number} duration\n * @returns {Function}\n * @private\n */\nfunction cubicBezierAtTime(t, p1x, p1y, p2x, p2y, duration) {\n  let ax = 0,\n    bx = 0,\n    cx = 0,\n    ay = 0,\n    by = 0,\n    cy = 0\n\n  const sampleCurveX = t => ((ax * t + bx) * t + cx) * t\n\n  const sampleCurveY = t => ((ay * t + by) * t + cy) * t\n\n  const sampleCurveDerivativeX = t => (3 * ax * t + 2 * bx) * t + cx\n\n  const solveEpsilon = duration => 1 / (200 * duration)\n\n  const fabs = n => (n >= 0 ? n : 0 - n)\n\n  const solveCurveX = (x, epsilon) => {\n    let t0, t1, t2, x2, d2, i\n\n    for (t2 = x, i = 0; i < 8; i++) {\n      x2 = sampleCurveX(t2) - x\n\n      if (fabs(x2) < epsilon) {\n        return t2\n      }\n\n      d2 = sampleCurveDerivativeX(t2)\n\n      if (fabs(d2) < 1e-6) {\n        break\n      }\n\n      t2 = t2 - x2 / d2\n    }\n\n    t0 = 0\n    t1 = 1\n    t2 = x\n\n    if (t2 < t0) {\n      return t0\n    }\n\n    if (t2 > t1) {\n      return t1\n    }\n\n    while (t0 < t1) {\n      x2 = sampleCurveX(t2)\n\n      if (fabs(x2 - x) < epsilon) {\n        return t2\n      }\n\n      if (x > x2) {\n        t0 = t2\n      } else {\n        t1 = t2\n      }\n\n      t2 = (t1 - t0) * 0.5 + t0\n    }\n\n    return t2 // Failure.\n  }\n\n  const solve = (x, epsilon) => sampleCurveY(solveCurveX(x, epsilon))\n\n  cx = 3 * p1x\n  bx = 3 * (p2x - p1x) - cx\n  ax = 1 - cx - bx\n  cy = 3 * p1y\n  by = 3 * (p2y - p1y) - cy\n  ay = 1 - cy - by\n\n  return solve(t, solveEpsilon(duration))\n}\n// End ported code\n\n/**\n *  GetCubicBezierTransition(x1, y1, x2, y2) -> Function.\n *\n *  Generates a transition easing function that is compatible\n *  with WebKit's CSS transitions `-webkit-transition-timing-function`\n *  CSS property.\n *\n *  The W3C has more information about CSS3 transition timing functions:\n *  http://www.w3.org/TR/css3-transitions/#transition-timing-function_tag\n *\n *  @param {number} x1\n *  @param {number} y1\n *  @param {number} x2\n *  @param {number} y2\n *  @return {Function}\n *  @private\n */\nconst getCubicBezierTransition = (x1, y1, x2, y2) => pos =>\n  cubicBezierAtTime(pos, x1, y1, x2, y2, 1)\n\n/**\n * Create a Bezier easing function and attach it to {@link\n * shifty.Tweenable.formulas}.  This function gives you total control over the\n * easing curve.  Matthew Lein's [Ceaser](http://matthewlein.com/ceaser/) is a\n * useful tool for visualizing the curves you can make with this function.\n * @method shifty.setBezierFunction\n * @param {string} name The name of the easing curve.  Overwrites the old\n * easing function on {@link shifty.Tweenable.formulas} if it exists.\n * @param {number} x1\n * @param {number} y1\n * @param {number} x2\n * @param {number} y2\n * @return {shifty.easingFunction} The {@link shifty.easingFunction} that was\n * attached to {@link shifty.Tweenable.formulas}.\n */\nexport const setBezierFunction = (name, x1, y1, x2, y2) => {\n  const cubicBezierTransition = getCubicBezierTransition(x1, y1, x2, y2)\n\n  cubicBezierTransition.displayName = name\n  cubicBezierTransition.x1 = x1\n  cubicBezierTransition.y1 = y1\n  cubicBezierTransition.x2 = x2\n  cubicBezierTransition.y2 = y2\n\n  return (Tweenable.formulas[name] = cubicBezierTransition)\n}\n\n/**\n * `delete` an easing function from {@link shifty.Tweenable.formulas}.  Be\n * careful with this method, as it `delete`s whatever easing formula matches\n * `name` (which means you can delete standard Shifty easing functions).\n * @method shifty.unsetBezierFunction\n * @param {string} name The name of the easing function to delete.\n * @return {boolean} Whether or not the functions was `delete`d.\n */\nexport const unsetBezierFunction = name => delete Tweenable.formulas[name]\n","/**\n * @namespace shifty\n */\n\nimport { processTweens, Tweenable, tween } from './tweenable'\nimport * as token from './token'\n\nTweenable.filters.token = token\n\nexport { processTweens, Tweenable, tween }\nexport { interpolate } from './interpolate'\nexport { Scene } from './scene'\nexport { setBezierFunction, unsetBezierFunction } from './bezier'\n\n/**\n * @external Promise\n * @see {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise}\n */\n\n/**\n * @callback {Function} shifty.easingFunction\n * @param {number} position The normalized (0-1) position of the tween.\n * @return {number} The curve-adjusted value.\n */\n\n/**\n * @callback {Function} shifty.startFunction\n * @param {Object} state The current state of the tween.\n * @param {Object|undefined} [data] User-defined data provided via a {@link\n * shifty.tweenConfig}.\n */\n\n/**\n * Gets called for every tick of the tween.  This function is not called on the\n * final tick of the animation.\n * @callback {Function} shifty.renderFunction\n * @param {Object} state The current state of the tween.\n * @param {Object|undefined} [data] User-defined data provided via a {@link\n * shifty.tweenConfig}.\n * @param {number} timeElapsed The time elapsed since the start of the tween.\n */\n\n/**\n * @callback shifty.scheduleFunction\n * @param {Function} callback\n * @param {number} timeout\n */\n\n/**\n * @typedef {Object} shifty.tweenConfig\n * @property {Object} [from] Starting position.  If omitted, {@link\n * shifty.Tweenable#get} is used.\n * @property {Object} [to] Ending position.  The keys of this Object should\n * match those of `to`.\n * @property {number} [duration] How many milliseconds to animate for.\n * @property {number} [delay] How many milliseconds to wait before starting the\n * tween.\n * @property {shifty.startFunction} [start] Executes when the tween begins.\n * @property {shifty.renderFunction} [render] Executes on every tick. Legacy\n * property name: `step`.\n * @property\n * {Object.<string|shifty.easingFunction>|string|shifty.easingFunction}\n * [easing] Easing curve name(s) or {@link shifty.easingFunction}(s) to apply\n * to the properties of the tween.  If this is an Object, the keys should\n * correspond to `to`/`from`.  You can learn more about this in the {@tutorial\n * easing-function-in-depth} tutorial.\n * @property {Object} [data] Data that is passed to {@link\n * shifty.startFunction}, {@link shifty.renderFunction}, and {@link\n * shifty.promisedData}. Legacy property name: `attachment`.\n * @property {Function} [promise] Promise constructor for when you want\n * to use Promise library or polyfill Promises in unsupported environments.\n */\n\n/**\n * @typedef {Object} shifty.promisedData\n * @property {Object} state The current state of the tween.\n * @property {Object} data The `data` Object that the tween was configured with.\n * @property {shifty.Tweenable} tweenable The {@link shifty.Tweenable} instance to\n * which the tween belonged.\n */\n\n/**\n * Is called when a tween is created to determine if a filter is needed.\n * Filters are only added to a tween when it is created so that they are not\n * unnecessarily processed if they don't apply during an update tick.\n * @callback {Function} shifty.doesApplyFilter\n * @param {shifty.Tweenable} tweenable The {@link shifty.Tweenable} instance.\n * @return {boolean}\n */\n\n/**\n * Is called when a tween is created.  This should perform any setup needed by\n * subsequent per-tick calls to {@link shifty.beforeTween} and {@link\n * shifty.afterTween}.\n * @callback {Function} shifty.tweenCreatedFilter\n * @param {shifty.Tweenable} tweenable The {@link shifty.Tweenable} instance.\n */\n\n/**\n * Is called right before a tween is processed in a tick.\n * @callback {Function} shifty.beforeTweenFilter\n * @param {shifty.Tweenable} tweenable The {@link shifty.Tweenable} instance.\n */\n\n/**\n * Is called right after a tween is processed in a tick.\n * @callback {Function} shifty.afterTweenFilter\n * @param {shifty.Tweenable} tweenable The {@link shifty.Tweenable} instance.\n */\n\n/**\n * An Object that contains functions that are called at key points in a tween's\n * lifecycle.  Shifty can only process `Number`s internally, but filters can\n * expand support for any type of data.  This is the mechanism that powers\n * [string interpolation]{@tutorial string-interpolation}.\n * @typedef {Object} shifty.filter\n * @property {shifty.doesApplyFilter} doesApply Is called when a tween is\n * created.\n * @property {shifty.tweenCreatedFilter} tweenCreated Is called when a tween is\n * created.\n * @property {shifty.beforeTweenFilter} beforeTween Is called right before a\n * tween starts.\n * @property {shifty.afterTweenFilter} afterTween Is called right after a tween\n * ends.\n */\n"],"sourceRoot":""},"metadata":{},"sourceType":"script"}